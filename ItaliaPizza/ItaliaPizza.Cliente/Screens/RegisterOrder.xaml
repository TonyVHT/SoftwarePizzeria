<Window x:Class="ItaliaPizza.Cliente.Screens.RegisterOrder"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Registrar Pedido" Height="720" Width="1280"
        Background="#f4f4f4">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="350"/>
        </Grid.ColumnDefinitions>

        <!-- Categorías -->
        <Border Grid.Column="0" Background="#ffffff" BorderBrush="#dcdcdc" BorderThickness="0,0,1,0">
            <StackPanel Margin="10">
                <TextBlock Text="Categorías" FontWeight="Bold" FontSize="16" Margin="0 0 0 10" Foreground="#333"/>
                <Button Content="🍽 Todos" Margin="0 5" Background="#32d483" Foreground="White" BorderThickness="0" Height="40"/>
                <Button Content="🥘 Platillos" Margin="0 5" Background="#e0f9f0" Foreground="#333" BorderThickness="0" Height="40"/>
                <Button Content="🥤 Bebidas" Margin="0 5" Background="#e0f9f0" Foreground="#333" BorderThickness="0" Height="40"/>
                <Button Content="🍰 Postres" Margin="0 5" Background="#e0f9f0" Foreground="#333" BorderThickness="0" Height="40"/>
            </StackPanel>
        </Border>

        <!-- Productos / Platillos -->
        <ScrollViewer Grid.Column="1" Background="#f9f9f9">
            <WrapPanel Margin="10" ItemHeight="150" ItemWidth="150">
                <ItemsControl Name="ItemsDisponiblesControl">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Click="AgregarAlPedido_Click" Margin="5" Background="#ffffff" BorderBrush="#dddddd" BorderThickness="1">
                                <StackPanel>
                                    <Image Height="100" Stretch="UniformToFill">
                                        <Image.Source>
                                            <Binding Path="Foto" Converter="{StaticResource ByteArrayToImageConverter}" />
                                        </Image.Source>
                                    </Image>
                                    <TextBlock Text="{Binding Nombre}" HorizontalAlignment="Center" TextWrapping="Wrap" FontWeight="SemiBold" Foreground="#333"/>
                                    <TextBlock Text="{Binding Precio, StringFormat='${0:F2}'}" HorizontalAlignment="Center" FontSize="10" Foreground="#777"/>
                                </StackPanel>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </WrapPanel>
        </ScrollViewer>

        <!-- Pedido -->
        <Border Grid.Column="2" Background="#ffffff" BorderBrush="#dcdcdc" BorderThickness="1,0,0,0">
            <StackPanel Margin="10">
                <TextBlock Text="Pedido Actual" FontWeight="Bold" FontSize="18" Foreground="#333"/>
                <ListView Name="ListaPedido" Margin="0 10" Height="500" Background="#f9f9f9">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Nombre" DisplayMemberBinding="{Binding Nombre}"/>
                            <GridViewColumn Header="Cantidad" DisplayMemberBinding="{Binding Cantidad}"/>
                            <GridViewColumn Header="Precio" DisplayMemberBinding="{Binding PrecioUnitario}"/>
                            <GridViewColumn Header="Total" DisplayMemberBinding="{Binding Subtotal}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
                <TextBlock Name="TextoTotal" Text="Total: $0.00" FontSize="14" FontWeight="Bold" Margin="0,10,0,0" Foreground="#333"/>
                <StackPanel Orientation="Vertical" Margin="0,20,0,0">
                    <Button Content="🚚 Pedido a domicilio" 
                            Click="PedidoDomicilio_Click" 
                            Height="40" Background="#32d483" Foreground="White" BorderThickness="0" Margin="0 0 0 10"/>
                    <Button Content="🏠 Pedido en sucursal" 
                            Click="PedidoSucursal_Click" 
                            Height="40" Background="#dcdcdc" Foreground="#333" BorderThickness="0"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
